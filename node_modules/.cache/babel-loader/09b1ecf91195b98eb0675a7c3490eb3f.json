{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\avocado-dev\\\\Desktop\\\\dbord-FE-React-main\\\\dbord-FE-React-main\\\\src\\\\pages\\\\myboard-list\\\\MyBoardList.js\",\n    _s = $RefreshSig$();\n\nimport { Pagination } from \"@mui/material\";\nimport { Card } from \"../../components/Card\";\nimport { useEffect, useState } from \"react\";\nimport api from \"../../utils/api\";\nimport { useSearchParams } from \"react-router-dom\";\nimport \"../board-list/boardList.scss\";\nimport { useSelector } from \"react-redux\";\nimport { jwtUtils } from \"../../utils/jwtUtils\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyBoardList = () => {\n  _s();\n\n  const [pageCount, setPageCount] = useState(0);\n  const [boardList, setBoardList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams(); // userÏùò idÎ•º ÏïåÏïÑÎÇ¥Í∏∞ ÏúÑÌï¥ token Í∞ÄÏ†∏Ïò§Í∏∞\n\n  const token = useSelector(state => state.Auth.token); // Î†åÎçîÎßÅ ÎêòÍ≥† ÌïúÎ≤àÎßå Ï†ÑÏ≤¥ Í≤åÏãúÎ¨º Í∞ØÏàò Í∞ÄÏ†∏ÏôÄÏÑú ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏ Íµ¨ÌïòÍ∏∞\n  // Î†åÎçîÎßÅ ÎêòÍ≥† ÌïúÎ≤àÎßå ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨º Í∞ÄÏ†∏Ïò§Í∏∞\n\n  useEffect(() => {\n    // ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨º Í∞ÄÏ†∏Ïò§Í∏∞\n    const getBoardList = async () => {\n      const page_number = searchParams.get(\"page\");\n      const user_id = jwtUtils.getId(token);\n      const {\n        data\n      } = await api.get(`/api/board/user/list?page_number=${page_number}&page_size=4&user_id=${user_id}`);\n      return data;\n    }; // ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨ºÎ°ú ÏÉÅÌÉú Î≥ÄÍ≤ΩÌïòÍ∏∞\n\n\n    getBoardList().then(result => setBoardList(result)); // Í≤åÏãúÎ¨º Ï†ÑÏ≤¥ Í∞ØÏàò Íµ¨ÌïòÍ∏∞\n\n    const getTotalBoard = async () => {\n      const user_id = jwtUtils.getId(token);\n      const {\n        data\n      } = await api.get(`/api/board/user/count/${user_id}`);\n      return data.total;\n    }; // ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏ Íµ¨ÌïòÍ∏∞: (Ï†ÑÏ≤¥ board Í∞ØÏàò) / (Ìïú ÌéòÏù¥ÏßÄ Í∞ØÏàò) Í≤∞Í≥º Ïò¨Î¶º\n\n\n    getTotalBoard().then(result => setPageCount(Math.ceil(result / 4)));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"boardList-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boardList-header\",\n      children: \"\\uB098\\uC758 \\uAC8C\\uC2DC\\uBB3C \\uD83D\\uDCDD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boardList-body\",\n      children: boardList.map((item, index) => /*#__PURE__*/_jsxDEV(Card, {\n        username: item.user.username,\n        date: moment(item.created).add(9, \"hour\").format('YYYY-MM-DD'),\n        title: item.title,\n        content: item.content,\n        board_id: item.id,\n        img_url: `/api/image/view/${item.id}`\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boardList-footer\",\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        variant: \"outlined\",\n        color: \"primary\",\n        page: Number(searchParams.get(\"page\")),\n        count: pageCount,\n        size: \"large\",\n        onChange: (e, value) => {\n          window.location.href = `/myboard-list?page=${value}`;\n        },\n        showFirstButton: true,\n        showLastButton: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MyBoardList, \"e8178xyW2qx6KfZa2SXgL6Up6Ps=\", false, function () {\n  return [useSearchParams, useSelector];\n});\n\n_c = MyBoardList;\nexport default MyBoardList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyBoardList\");","map":{"version":3,"names":["Pagination","Card","useEffect","useState","api","useSearchParams","useSelector","jwtUtils","moment","MyBoardList","pageCount","setPageCount","boardList","setBoardList","searchParams","setSearchParams","token","state","Auth","getBoardList","page_number","get","user_id","getId","data","then","result","getTotalBoard","total","Math","ceil","map","item","index","user","username","created","add","format","title","content","id","Number","e","value","window","location","href"],"sources":["C:/Users/avocado-dev/Desktop/dbord-FE-React-main/dbord-FE-React-main/src/pages/myboard-list/MyBoardList.js"],"sourcesContent":["import {Pagination} from \"@mui/material\";\nimport {Card} from \"../../components/Card\";\nimport {useEffect, useState} from \"react\";\nimport api from \"../../utils/api\";\nimport {useSearchParams} from \"react-router-dom\";\nimport \"../board-list/boardList.scss\";\nimport {useSelector} from \"react-redux\";\nimport {jwtUtils} from \"../../utils/jwtUtils\";\nimport moment from \"moment\";\n\nconst MyBoardList = () => {\n  const [pageCount, setPageCount] = useState(0);\n  const [boardList, setBoardList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  // userÏùò idÎ•º ÏïåÏïÑÎÇ¥Í∏∞ ÏúÑÌï¥ token Í∞ÄÏ†∏Ïò§Í∏∞\n  const token = useSelector(state => state.Auth.token);\n  // Î†åÎçîÎßÅ ÎêòÍ≥† ÌïúÎ≤àÎßå Ï†ÑÏ≤¥ Í≤åÏãúÎ¨º Í∞ØÏàò Í∞ÄÏ†∏ÏôÄÏÑú ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏ Íµ¨ÌïòÍ∏∞\n  // Î†åÎçîÎßÅ ÎêòÍ≥† ÌïúÎ≤àÎßå ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨º Í∞ÄÏ†∏Ïò§Í∏∞\n  useEffect(() => {\n    // ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨º Í∞ÄÏ†∏Ïò§Í∏∞\n    const getBoardList = async () => {\n      const page_number = searchParams.get(\"page\");\n      const user_id = jwtUtils.getId(token);\n      const {data} = await api.get(`/api/board/user/list?page_number=${page_number}&page_size=4&user_id=${user_id}`);\n      return data;\n    }\n    // ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨ºÎ°ú ÏÉÅÌÉú Î≥ÄÍ≤ΩÌïòÍ∏∞\n    getBoardList().then(result => setBoardList(result));\n    // Í≤åÏãúÎ¨º Ï†ÑÏ≤¥ Í∞ØÏàò Íµ¨ÌïòÍ∏∞\n    const getTotalBoard = async () => {\n      const user_id = jwtUtils.getId(token);\n      const {data} = await api.get(`/api/board/user/count/${user_id}`);\n      return data.total;\n    }\n    // ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏ Íµ¨ÌïòÍ∏∞: (Ï†ÑÏ≤¥ board Í∞ØÏàò) / (Ìïú ÌéòÏù¥ÏßÄ Í∞ØÏàò) Í≤∞Í≥º Ïò¨Î¶º\n    getTotalBoard().then(result => setPageCount(Math.ceil(result / 4)));\n  }, [])\n\n  return (\n    <div className=\"boardList-wrapper\">\n      <div className=\"boardList-header\">\n        ÎÇòÏùò Í≤åÏãúÎ¨º üìù\n      </div>\n      <div className=\"boardList-body\">\n        {boardList.map((item, index) => (\n          <Card key={item.id} username={item.user.username} date={moment(item.created).add(9, \"hour\").format('YYYY-MM-DD')}\n                title={item.title} content={item.content}\n                board_id={item.id} img_url={`/api/image/view/${item.id}`}\n          />\n        ))}\n      </div>\n      <div className=\"boardList-footer\">\n        {/*ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò: countÏóê ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏, pageÏóê ÌéòÏù¥ÏßÄ Î≤àÌò∏ ÎÑ£Í∏∞*/}\n        <Pagination\n          variant=\"outlined\" color=\"primary\" page={Number(searchParams.get(\"page\"))}\n          count={pageCount} size=\"large\"\n          onChange={(e, value) => {\n            window.location.href = `/myboard-list?page=${value}`;\n          }}\n          showFirstButton showLastButton\n        />\n      </div>\n    </div>\n  )\n}\nexport default MyBoardList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}