{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/avocado-dev/Desktop/Programming/gospelchurch-FE-React/gospelchurch-FE-React-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/avocado-dev/Desktop/Programming/gospelchurch-FE-React/gospelchurch-FE-React-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{toast,ToastContainer}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{Formik,ErrorMessage}from\"formik\";import*as Yup from\"yup\";import{Button,TextField}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import\"./signUp.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(){var navigate=useNavigate();var validationSchema=Yup.object().shape({email:Yup.string().email(\"올바른 이메일 형식이 아닙니다\").required(\"이메일을 입력하세요.\"),username:Yup.string().min(2,\"닉네임은 최소 2글자 이상입니다.\").max(10,\"닉네임은 최대 10글자입니다.\").matches(/^[가-힣a-zA-Z][^!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?\\s]*$/,\"닉네임에 특수문자가 포함되면 안되고 숫자로 시작하면 안됩니다.\").required(\"닉네임을 입력하세요.\"),password:Yup.string().min(8,\"비밀번호는 최소 8자리 이상입니다.\").max(16,\"비밀번호는 최대 16자리입니다.\").required(\"패스워드를 입력하세요.\").matches(/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?])[^\\s]*$/,\"알파벳, 숫자, 공백을 제외한 특수문자를 모두 포함해야 합니다.\"),password2:Yup.string().oneOf([Yup.ref(\"password\"),null],\"비밀번호가 일치하지 않습니다.\").required(\"필수 입력 값입니다.\")});var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var email,username,password;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=values.email,username=values.username,password=values.password;_context.prev=1;_context.next=4;return axios.post(\"/api/auth/signup\",{email:email,username:username,password:password});case 4:toast.success(/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uB85C\\uADF8\\uC778 \\uD558\\uC138\\uC694.\"]}),{position:\"top-center\",autoClose:2000});setTimeout(function(){navigate(\"/login\");},2000);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);// 서버에서 받은 에러 메시지 출력\ntoast.error(_context.t0.response.data.message+\"Error\",{position:\"top-center\"});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function submit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"\",username:\"\",password:\"\",password2:\"\"},validationSchema:validationSchema,onSubmit:submit,validateOnMount:true,children:function children(_ref2){var values=_ref2.values,handleSubmit=_ref2.handleSubmit,handleChange=_ref2.handleChange,errors=_ref2.errors;return/*#__PURE__*/_jsxs(\"div\",{className:\"signup-wrapper\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,autoComplete:\"off\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-forms\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-forms-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-label\",children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(TextField,{value:values.email,name:\"email\",variant:\"outlined\",onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-forms-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-label\",children:\"\\uB2C9\\uB124\\uC784\"}),/*#__PURE__*/_jsx(TextField,{value:values.username,name:\"username\",variant:\"outlined\",onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-forms-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-label\",children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(TextField,{value:values.password,name:\"password\",variant:\"outlined\",type:\"password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-forms-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-label\",children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\"}),/*#__PURE__*/_jsx(TextField,{value:values.password2,name:\"password2\",variant:\"outlined\",type:\"password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.password2})]}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",fullWidth:true,type:\"submit\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})})]});}});};export default SignUp;","map":{"version":3,"names":["axios","toast","ToastContainer","Formik","ErrorMessage","Yup","Button","TextField","useNavigate","SignUp","navigate","validationSchema","object","shape","email","string","required","username","min","max","matches","password","password2","oneOf","ref","submit","values","post","success","position","autoClose","setTimeout","error","response","data","message","handleSubmit","handleChange","errors"],"sources":["C:/Users/avocado-dev/Desktop/Programming/gospelchurch-FE-React/gospelchurch-FE-React-main/src/pages/sign-up/SignUp.js"],"sourcesContent":["import axios from \"axios\";\nimport {toast, ToastContainer} from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {Formik, ErrorMessage} from \"formik\";\nimport * as Yup from \"yup\";\nimport {Button, TextField} from \"@mui/material\";\nimport {useNavigate} from \"react-router-dom\";\nimport \"./signUp.scss\";\n\nconst SignUp = () => {\n  const navigate = useNavigate();\n  const validationSchema = Yup.object().shape({\n    email: Yup.string()\n      .email(\"올바른 이메일 형식이 아닙니다\")\n      .required(\"이메일을 입력하세요.\"),\n    username: Yup.string()\n      .min(2, \"닉네임은 최소 2글자 이상입니다.\")\n      .max(10, \"닉네임은 최대 10글자입니다.\")\n      .matches(\n        /^[가-힣a-zA-Z][^!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?\\s]*$/,\n        \"닉네임에 특수문자가 포함되면 안되고 숫자로 시작하면 안됩니다.\"\n      )\n      .required(\"닉네임을 입력하세요.\"),\n    password: Yup.string()\n      .min(8, \"비밀번호는 최소 8자리 이상입니다.\")\n      .max(16, \"비밀번호는 최대 16자리입니다.\")\n      .required(\"패스워드를 입력하세요.\")\n      .matches(\n        /^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?])[^\\s]*$/,\n        \"알파벳, 숫자, 공백을 제외한 특수문자를 모두 포함해야 합니다.\"\n      ),\n    password2: Yup.string()\n      .oneOf([Yup.ref(\"password\"), null], \"비밀번호가 일치하지 않습니다.\")\n      .required(\"필수 입력 값입니다.\"),\n  });\n  const submit = async (values) => {\n    const {email, username, password} = values;\n    try {\n      await axios.post(\"/api/auth/signup\", {\n        email,\n        username,\n        password,\n      });\n      toast.success(<h3>회원가입이 완료되었습니다.<br/>로그인 하세요.</h3>, {\n        position: \"top-center\",\n        autoClose: 2000\n      });\n      setTimeout(()=> {\n        navigate(\"/login\");\n      }, 2000);\n\n    } catch (e) {\n      // 서버에서 받은 에러 메시지 출력\n      toast.error(e.response.data.message + \"Error\", {\n        position: \"top-center\",\n      });\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        email: \"\",\n        username: \"\",\n        password: \"\",\n        password2: \"\",\n      }}\n      validationSchema={validationSchema}\n      onSubmit={submit}\n      validateOnMount={true}\n    >\n      {({values, handleSubmit, handleChange, errors}) => (\n        <div className=\"signup-wrapper\">\n          <ToastContainer/>\n          <form onSubmit={handleSubmit} autoComplete=\"off\">\n            <div className=\"input-forms\">\n              <div className=\"input-forms-item\">\n                <div className=\"input-label\">이메일</div>\n                <TextField\n                  value={values.email}\n                  name=\"email\"\n                  variant=\"outlined\"\n                  onChange={handleChange}\n                />\n                <div className=\"error-message\">\n                  {errors.email}\n                </div>\n              </div>\n              <div className=\"input-forms-item\">\n                <div className=\"input-label\">닉네임</div>\n                <TextField\n                  value={values.username}\n                  name=\"username\"\n                  variant=\"outlined\"\n                  onChange={handleChange}\n                />\n                <div className=\"error-message\">\n                  {errors.username}\n                </div>\n              </div>\n              <div className=\"input-forms-item\">\n                <div className=\"input-label\">비밀번호</div>\n                <TextField\n                  value={values.password}\n                  name=\"password\"\n                  variant=\"outlined\"\n                  type=\"password\"\n                  onChange={handleChange}\n                />\n                <div className=\"error-message\">\n                  {errors.password}\n                </div>\n              </div>\n              <div className=\"input-forms-item\">\n                <div className=\"input-label\">비밀번호 확인</div>\n                <TextField\n                  value={values.password2}\n                  name=\"password2\"\n                  variant=\"outlined\"\n                  type=\"password\"\n                  onChange={handleChange}\n                />\n                <div className=\"error-message\">\n                  {errors.password2}\n                </div>\n              </div>\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                fullWidth\n                type=\"submit\"\n              >\n                회원가입\n              </Button>\n            </div>\n          </form>\n        </div>\n      )}\n    </Formik>\n  );\n};\n\nexport default SignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}