{"ast":null,"code":"var _jsxFileName = \"/Users/suni94/dev/dbord-FE-React-main/src/pages/board-list/BoardList.js\",\n    _s = $RefreshSig$();\n\nimport { Pagination } from \"@mui/material\";\nimport { Card } from \"../../components/Card\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useSearchParams } from \"react-router-dom\";\nimport \"./boardList.scss\";\nimport moment from \"moment\";\nimport Footer from \"../../components/Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BoardList = () => {\n  _s();\n\n  const [pageCount, setPageCount] = useState(0);\n  const [boardList, setBoardList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams(); // Î†åÎçîÎßÅ ÎêòÍ≥† ÌïúÎ≤àÎßå Ï†ÑÏ≤¥ Í≤åÏãúÎ¨º Í∞ØÏàò Í∞ÄÏ†∏ÏôÄÏÑú ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏ Íµ¨ÌïòÍ∏∞\n  // Î†åÎçîÎßÅ ÎêòÍ≥† ÌïúÎ≤àÎßå ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨º Í∞ÄÏ†∏Ïò§Í∏∞\n\n  useEffect(() => {\n    // ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨º Í∞ÄÏ†∏Ïò§Í∏∞\n    const getBoardList = async () => {\n      const page_number = searchParams.get(\"page\");\n      const {\n        data\n      } = await axios.get(`/api/board/list?page_number=${page_number}&page_size=4`);\n      return data;\n    }; // ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨ºÎ°ú ÏÉÅÌÉú Î≥ÄÍ≤ΩÌïòÍ∏∞\n\n\n    getBoardList().then(result => setBoardList(result)); // Í≤åÏãúÎ¨º Ï†ÑÏ≤¥ Í∞ØÏàò Íµ¨ÌïòÍ∏∞\n\n    const getTotalBoard = async () => {\n      const {\n        data\n      } = await axios.get(\"/api/board/count\");\n      return data.total;\n    }; // ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏ Íµ¨ÌïòÍ∏∞: (Ï†ÑÏ≤¥ board Í∞ØÏàò) / (Ìïú ÌéòÏù¥ÏßÄ Í∞ØÏàò) Í≤∞Í≥º Ïò¨Î¶º\n\n\n    getTotalBoard().then(result => setPageCount(Math.ceil(result / 4)));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boardList-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boardList-header\",\n        children: \"\\uC804\\uCCB4 \\uAC8C\\uC2DC\\uBB3C \\uD83D\\uDCDD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boardList-body\",\n        children: boardList.map((item, index) => /*#__PURE__*/_jsxDEV(Card, {\n          username: item.user.username,\n          date: moment(item.created).add(9, \"hour\").format('YYYY-MM-DD'),\n          title: item.title,\n          content: item.content,\n          board_id: item.id,\n          img_url: `/api/image/view/${item.id}`\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boardList-footer\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          variant: \"outlined\",\n          color: \"primary\",\n          page: Number(searchParams.get(\"page\")),\n          count: pageCount,\n          size: \"large\",\n          onChange: (e, value) => {\n            window.location.href = `/board-list?page=${value}`;\n          },\n          showFirstButton: true,\n          showLastButton: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BoardList, \"rowfZ3oJteBUHzwCTL1hGlknImg=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = BoardList;\nexport default BoardList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardList\");","map":{"version":3,"names":["Pagination","Card","React","useEffect","useState","axios","useSearchParams","moment","Footer","BoardList","pageCount","setPageCount","boardList","setBoardList","searchParams","setSearchParams","getBoardList","page_number","get","data","then","result","getTotalBoard","total","Math","ceil","map","item","index","user","username","created","add","format","title","content","id","Number","e","value","window","location","href"],"sources":["/Users/suni94/dev/dbord-FE-React-main/src/pages/board-list/BoardList.js"],"sourcesContent":["import {Pagination} from \"@mui/material\";\nimport {Card} from \"../../components/Card\";\nimport React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {useSearchParams} from \"react-router-dom\";\nimport \"./boardList.scss\";\nimport moment from \"moment\";\nimport Footer from \"../../components/Footer\";\n\nconst BoardList = () => {\n    const [pageCount, setPageCount] = useState(0);\n    const [boardList, setBoardList] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    // Î†åÎçîÎßÅ ÎêòÍ≥† ÌïúÎ≤àÎßå Ï†ÑÏ≤¥ Í≤åÏãúÎ¨º Í∞ØÏàò Í∞ÄÏ†∏ÏôÄÏÑú ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏ Íµ¨ÌïòÍ∏∞\n    // Î†åÎçîÎßÅ ÎêòÍ≥† ÌïúÎ≤àÎßå ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨º Í∞ÄÏ†∏Ïò§Í∏∞\n    useEffect(() => {\n        // ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨º Í∞ÄÏ†∏Ïò§Í∏∞\n        const getBoardList = async () => {\n            const page_number = searchParams.get(\"page\");\n            const {data} = await axios.get(`/api/board/list?page_number=${page_number}&page_size=4`);\n            return data;\n        }\n        // ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî Í≤åÏãúÎ¨ºÎ°ú ÏÉÅÌÉú Î≥ÄÍ≤ΩÌïòÍ∏∞\n        getBoardList().then(result => setBoardList(result));\n        // Í≤åÏãúÎ¨º Ï†ÑÏ≤¥ Í∞ØÏàò Íµ¨ÌïòÍ∏∞\n        const getTotalBoard = async () => {\n            const {data} = await axios.get(\"/api/board/count\");\n            return data.total;\n        }\n        // ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏ Íµ¨ÌïòÍ∏∞: (Ï†ÑÏ≤¥ board Í∞ØÏàò) / (Ìïú ÌéòÏù¥ÏßÄ Í∞ØÏàò) Í≤∞Í≥º Ïò¨Î¶º\n        getTotalBoard().then(result => setPageCount(Math.ceil(result / 4)));\n    }, [])\n\n    return (\n        <div>\n            <div className=\"boardList-wrapper\">\n                <div className=\"boardList-header\">\n                    Ï†ÑÏ≤¥ Í≤åÏãúÎ¨º üìù\n                </div>\n                <div className=\"boardList-body\">\n                    {boardList.map((item, index) => (\n                        <Card key={item.id} username={item.user.username}\n                              date={moment(item.created).add(9, \"hour\").format('YYYY-MM-DD')}\n                              title={item.title} content={item.content}\n                              board_id={item.id} img_url={`/api/image/view/${item.id}`}\n                        />\n                    ))}\n                </div>\n                <div className=\"boardList-footer\">\n                    {/*ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò: countÏóê ÌéòÏù¥ÏßÄ Ïπ¥Ïö¥Ìä∏, pageÏóê ÌéòÏù¥ÏßÄ Î≤àÌò∏ ÎÑ£Í∏∞*/}\n                    <Pagination\n                        variant=\"outlined\" color=\"primary\" page={Number(searchParams.get(\"page\"))}\n                        count={pageCount} size=\"large\"\n                        onChange={(e, value) => {\n                            window.location.href = `/board-list?page=${value}`;\n                        }}\n                        showFirstButton showLastButton\n                    />\n                </div>\n                <Footer/>\n            </div>\n        </div>\n    )\n}\nexport default BoardList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}