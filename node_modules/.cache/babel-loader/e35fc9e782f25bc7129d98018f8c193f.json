{"ast":null,"code":"var _jsxFileName = \"/Users/suni94/dev/dbord-FE-React-main/src/pages/add-board/AddBoard.js\",\n    _s = $RefreshSig$();\n\nimport { useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport React, { useCallback, useState } from \"react\";\nimport ImageUploader from \"../../components/ImageUploader\";\nimport api from \"../../utils/api\";\nimport { jwtUtils } from \"../../utils/jwtUtils\";\nimport TextArea from \"../../components/TextArea\";\nimport { Button } from \"@mui/material\";\nimport \"./addBoard.scss\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddBoard = () => {\n  _s();\n\n  const token = useSelector(state => state.Auth.token);\n  const navigate = useNavigate(); // 게시판 제목, 내용, 사진\n\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [image, setImage] = useState({\n    image_file: \"\",\n    preview_URL: \"image/default_image.png\"\n  });\n  const canSubmit = useCallback(() => {\n    return image.image_file !== \"\" && content !== \"\" && title !== \"\";\n  }, [image, title, content]);\n  const handleSubmit = useCallback(async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", title);\n      formData.append(\"content\", content);\n      formData.append(\"file\", image.image_file);\n      formData.append(\"user_id\", jwtUtils.getId(token));\n      await api.post(\"/api/board\", formData);\n      window.alert(\"😎등록이 완료되었습니다😎\");\n      navigate(\"/board-list\");\n    } catch (e) {\n      // 서버에서 받은 에러 메시지 출력\n      toast.error(\"오류발생! 이모지를 사용하면 오류가 발생할 수 있습니다\" + \"😭\", {\n        position: \"top-center\"\n      });\n    }\n  }, [canSubmit]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addBoard-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addBoard-header\",\n        children: \"\\uAC8C\\uC2DC\\uBB3C \\uB4F1\\uB85D\\uD558\\uAE30 \\uD83D\\uDD8A\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submitButton\",\n        children: canSubmit() ? /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          className: \"success-button\",\n          variant: \"outlined\",\n          children: \"\\uB4F1\\uB85D\\uD558\\uAE30\\uD83D\\uDE03\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          className: \"disable-button\",\n          variant: \"outlined\",\n          size: \"large\",\n          children: \"\\uC0AC\\uC9C4\\uACFC \\uB0B4\\uC6A9\\uC744 \\uBAA8\\uB450 \\uC785\\uB825\\uD558\\uC138\\uC694\\uD83D\\uDE2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addBoard-body\",\n        children: [/*#__PURE__*/_jsxDEV(ImageUploader, {\n          setImage: setImage,\n          preview_URL: image.preview_URL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n          setTitle: setTitle,\n          setContent: setContent,\n          title: title,\n          content: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddBoard, \"EC3fj0dYZES8sjZqUrtC782h2HY=\", false, function () {\n  return [useSelector, useNavigate];\n});\n\n_c = AddBoard;\nexport default AddBoard;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddBoard\");","map":{"version":3,"names":["useSelector","useNavigate","React","useCallback","useState","ImageUploader","api","jwtUtils","TextArea","Button","toast","AddBoard","token","state","Auth","navigate","title","setTitle","content","setContent","image","setImage","image_file","preview_URL","canSubmit","handleSubmit","formData","FormData","append","getId","post","window","alert","e","error","position"],"sources":["/Users/suni94/dev/dbord-FE-React-main/src/pages/add-board/AddBoard.js"],"sourcesContent":["import {useSelector} from \"react-redux\";\nimport {useNavigate} from \"react-router-dom\";\nimport React, {useCallback, useState} from \"react\";\nimport ImageUploader from \"../../components/ImageUploader\";\nimport api from \"../../utils/api\";\nimport {jwtUtils} from \"../../utils/jwtUtils\";\nimport TextArea from \"../../components/TextArea\";\nimport {Button} from \"@mui/material\";\nimport \"./addBoard.scss\";\nimport {toast} from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst AddBoard = () => {\n    const token = useSelector(state => state.Auth.token);\n    const navigate = useNavigate();\n\n    // 게시판 제목, 내용, 사진\n    const [title, setTitle] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    const [image, setImage] = useState({\n        image_file: \"\",\n        preview_URL: \"image/default_image.png\",\n    });\n    const canSubmit = useCallback(() => {\n        return image.image_file !== \"\" && content !== \"\" && title !== \"\";\n    }, [image, title, content]);\n\n    const handleSubmit = useCallback(async () => {\n        try {\n            const formData = new FormData();\n            formData.append(\"title\", title);\n            formData.append(\"content\", content);\n            formData.append(\"file\", image.image_file);\n            formData.append(\"user_id\", jwtUtils.getId(token));\n\n            await api.post(\"/api/board\", formData);\n            window.alert(\"😎등록이 완료되었습니다😎\");\n            navigate(\"/board-list\");\n        } catch (e) {\n            // 서버에서 받은 에러 메시지 출력\n            toast.error(\"오류발생! 이모지를 사용하면 오류가 발생할 수 있습니다\" + \"😭\", {\n                position: \"top-center\",\n            });\n        }\n\n    }, [canSubmit]);\n\n    return (\n        <div>\n\n            <div className=\"addBoard-wrapper\">\n                <div className=\"addBoard-header\">\n                    게시물 등록하기 🖊️\n                </div>\n                <div className=\"submitButton\">\n                    {canSubmit() ? (\n                        <Button\n                            onClick={handleSubmit}\n                            className=\"success-button\"\n                            variant=\"outlined\"\n                        >\n                            등록하기😃\n                        </Button>\n                    ) : (\n                        <Button\n                            className=\"disable-button\"\n                            variant=\"outlined\"\n                            size=\"large\"\n                        >\n                            사진과 내용을 모두 입력하세요😭\n                        </Button>\n                    )}\n                </div>\n                <div className=\"addBoard-body\">\n                    <ImageUploader setImage={setImage} preview_URL={image.preview_URL}/>\n                    <TextArea setTitle={setTitle} setContent={setContent} title={title} content={content}/>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AddBoard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}