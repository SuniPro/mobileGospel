{"ast":null,"code":"import _regeneratorRuntime from\"/Users/suni94/dev/dbord-FE-React-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/suni94/dev/dbord-FE-React-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/suni94/dev/dbord-FE-React-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./header.scss\";import{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{jwtUtils}from\"../utils/jwtUtils\";import{useEffect,useState}from\"react\";import{setToken}from\"../redux/reducers/AuthReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(){var dispatch=useDispatch();var navigate=useNavigate();var token=useSelector(function(state){return state.Auth.token;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isAuth=_useState2[0],setIsAuth=_useState2[1];useEffect(function(){if(jwtUtils.isAuth(token)){setIsAuth(true);}else{setIsAuth(false);}},[token]);var logout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(setToken(\"\"));case 2:alert(\"로그아웃 되었습니다\");navigate(\"/\");case 4:case\"end\":return _context.stop();}}},_callee);}));return function logout(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"header-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-title\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\uB300\\uD55C\\uC608\\uC218\\uAD50\\uBCF5\\uC74C\\uAD50\\uD68C\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-menu\",children:[/*#__PURE__*/_jsx(Link,{to:\"/FoursquareGospel\",children:\"\\uC548\\uB0B4\"}),/*#__PURE__*/_jsx(Link,{to:\"/NavTest\",children:\"\\uAD50\\uB9AC\"}),/*#__PURE__*/_jsx(Link,{to:\"/board-list?page=1\",children:\"\\uAC8C\\uC2DC\\uD310\"}),/*#__PURE__*/_jsx(Link,{to:\"/add-board\",children:\"\\uAE00\\uC4F0\\uAE30\"}),isAuth?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/myboard-list?page=1\",children:\"\\uB0B4 \\uAC8C\\uC2DC\\uBB3C\"}),/*#__PURE__*/_jsx(Link,{to:\"#\",onClick:logout,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]})]});};export default Header;","map":{"version":3,"names":["Link","useNavigate","useDispatch","useSelector","jwtUtils","useEffect","useState","setToken","Header","dispatch","navigate","token","state","Auth","isAuth","setIsAuth","logout","alert"],"sources":["/Users/suni94/dev/dbord-FE-React-main/src/components/Header.js"],"sourcesContent":["import \"./header.scss\";\nimport {Link, useNavigate} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {jwtUtils} from \"../utils/jwtUtils\";\nimport {useEffect, useState} from \"react\";\nimport {setToken} from \"../redux/reducers/AuthReducer\";\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const token = useSelector(state => state.Auth.token);\n  const [isAuth, setIsAuth] = useState(false);\n  useEffect(() => {\n    if (jwtUtils.isAuth(token)) {\n      setIsAuth(true);\n    } else {\n      setIsAuth(false);\n    }\n  }, [token]);\n  const logout = async () => {\n    await dispatch(setToken(\"\"));\n    alert(\"로그아웃 되었습니다\");\n    navigate(\"/\");\n  };\n  return (\n    <div className=\"header-wrapper\">\n      <div className=\"header-title\">\n        <Link to=\"/\">\n          <span>대한예수교복음교회</span>\n        </Link>\n      </div>\n      <div className=\"header-menu\">\n        <Link to=\"/FoursquareGospel\">안내</Link>\n        <Link to=\"/NavTest\">교리</Link>\n        <Link to=\"/board-list?page=1\">게시판</Link>\n        <Link to=\"/add-board\">글쓰기</Link>\n        {isAuth ? (\n          <>\n            <Link to=\"/myboard-list?page=1\">내 게시물</Link>\n            <Link to=\"#\" onClick={logout}>로그아웃</Link>\n          </>\n        ) : (\n          <>\n            <Link to=\"/login\">로그인</Link>\n            <Link to=\"/sign-up\">회원가입</Link>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;"],"mappings":"iYAAA,MAAO,eAAP,CACA,OAAQA,IAAR,CAAcC,WAAd,KAAgC,kBAAhC,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,QAAR,KAAuB,mBAAvB,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,OAAQC,QAAR,KAAuB,+BAAvB,C,6IAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACnB,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,SAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,MAAK,CAAGR,WAAW,CAAC,SAAAS,KAAK,QAAIA,MAAK,CAACC,IAAN,CAAWF,KAAf,EAAN,CAAzB,CACA,cAA4BL,QAAQ,CAAC,KAAD,CAApC,wCAAOQ,MAAP,eAAeC,SAAf,eACAV,SAAS,CAAC,UAAM,CACd,GAAID,QAAQ,CAACU,MAAT,CAAgBH,KAAhB,CAAJ,CAA4B,CAC1BI,SAAS,CAAC,IAAD,CAAT,CACD,CAFD,IAEO,CACLA,SAAS,CAAC,KAAD,CAAT,CACD,CACF,CANQ,CAMN,CAACJ,KAAD,CANM,CAAT,CAOA,GAAMK,OAAM,4FAAG,2JACPP,SAAQ,CAACF,QAAQ,CAAC,EAAD,CAAT,CADD,QAEbU,KAAK,CAAC,YAAD,CAAL,CACAP,QAAQ,CAAC,GAAD,CAAR,CAHa,sDAAH,kBAANM,OAAM,0CAAZ,CAKA,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,cAAf,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACE,gFADF,EADF,EADF,cAME,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,mBAAT,0BADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,0BAFF,cAGE,KAAC,IAAD,EAAM,EAAE,CAAC,oBAAT,gCAHF,cAIE,KAAC,IAAD,EAAM,EAAE,CAAC,YAAT,gCAJF,CAKGF,MAAM,cACL,wCACE,KAAC,IAAD,EAAM,EAAE,CAAC,sBAAT,uCADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,OAAO,CAAEE,MAAtB,sCAFF,GADK,cAML,wCACE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,gCADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,sCAFF,GAXJ,GANF,GADF,CA0BD,CA3CD,CA6CA,cAAeR,OAAf"},"metadata":{},"sourceType":"module"}